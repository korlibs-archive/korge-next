// WARNING: File autogenerated DO NOT modify
// https://www.khronos.org/registry/OpenGL/api/GLES2/gl2.h
@file:Suppress("unused", "RedundantUnitReturnType", "PropertyName")

package com.soywiz.kgl

import com.soywiz.kmem.*
import kotlinx.cinterop.*
import com.soywiz.korim.bitmap.*
import com.soywiz.korim.format.*
import platform.posix.*

private val GL_MODULE by lazy { dlopen("libGL.so", 0) }

val glXGetProcAddress by lazy {
    //dlsym(GL_MODULE, "glXGetProcAddress")?.reinterpret2<CPointer<CFunction<(name: String) -> CPointer<out CPointed>?>>>()
    dlsym(GL_MODULE, "glXGetProcAddress")?.reinterpret2<CPointer<CFunction<(name: CPointer<ByteVar>) -> CPointer<out CPointed>?>>>()
        ?: error("Can't get glXGetProcAddress")
}

internal actual fun glGetProcAddressAnyOrNull(name: String): COpaquePointer? = memScoped {
    glXGetProcAddress(name.cstr.placeTo(this)) ?: dlsym(GL_MODULE, name)
}

actual class KmlGlNative actual constructor() : NativeBaseKmlGl() {
}
